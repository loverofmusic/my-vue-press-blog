(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{477:function(t,e,s){"use strict";s.r(e);var a=s(5),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"图片懒加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片懒加载"}},[t._v("#")]),t._v(" 图片懒加载")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("原理？")]),t._v(" "),s("ul",[s("li",[t._v("先不设置"),s("img"),t._v("标签的src路径为真实图片路径，将真实图片路径绑定在自定义属性上，等到图片即将进入可视窗口，再将自定义属性上的真实图片路径赋值给图片src属性")])])]),t._v(" "),s("li",[s("p",[t._v("如何判断进入可视窗口？")]),t._v(" "),s("ul",[s("li",[t._v("先介绍几个和懒加载相关的API"),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取屏幕可视区域的高度")]),t._v("\nelement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取元素相对于文档顶部的高度")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])]),t._v(" "),s("li",[t._v("如果："),s("code",[t._v("offsetTop - scroolTop - clientHeight < 0")]),t._v("，则图片进入了可视区内，则被请求。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/my-vue-press-blog/img/interview/lazyload.jpg",alt:"lazyload"}})]),t._v(" "),s("ul",[s("li",[t._v("还有一种："),s("code",[t._v("el.getBoundingClientRect().top")]),t._v(" <= clientHeight")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/my-vue-press-blog/img/interview/bound.jpg",alt:"lazyload"}})])])]),t._v(" "),s("h4",{attrs:{id:"知乎相关文章链接如下："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#知乎相关文章链接如下："}},[t._v("#")]),t._v(" 知乎相关文章链接如下：")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/55311726",target:"_blank",rel:"noopener noreferrer"}},[t._v("原生js实现图片懒加载(lazyLoad)"),s("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);